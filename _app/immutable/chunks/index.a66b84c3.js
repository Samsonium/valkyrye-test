var ne=Object.defineProperty;var oe=(t,e,r)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var T=(t,e,r)=>(oe(t,typeof e!="symbol"?e+"":e,r),r);import{w as se}from"./index.3738761e.js";import{_ as ae}from"./index.6e427b96.js";import{_ as ie}from"./preload-helper.41c905a7.js";function ce(t){const e=se(t);let r=t;return e.subscribe(s=>r=s),{...e,get value(){return r}}}const I=ce("en"),j=class{constructor(...e){T(this,"db");let r={};for(const s of j.availLangs){let n={};for(const o of e)n=Object.assign({},n,o[s]);r=Object.assign(r,{[s]:n})}this.db=r}get(e){return this.db[I.value][e]??"???"}change(e){if(!j.availLangs.includes(e.trim())){console.warn("Specified language is not allowed");return}I.set(e.trim())}};let W=j;T(W,"availLangs",["ru","en"]);function G(t){const e=t-1;return e*e*e+1}function $e(t,{delay:e=0,duration:r=400,easing:s=ae}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:s,css:o=>`opacity: ${o*n}`}}function xe(t,{delay:e=0,duration:r=400,easing:s=G,x:n=0,y:o=0,opacity:i=0}={}){const a=getComputedStyle(t),d=+a.opacity,c=a.transform==="none"?"":a.transform,v=d*(1-i);return{delay:e,duration:r,easing:s,css:(p,L)=>`
			transform: ${c} translate(${(1-p)*n}px, ${(1-p)*o}px);
			opacity: ${d-v*L}`}}function Ee(t,{delay:e=0,duration:r=400,easing:s=G}={}){const n=getComputedStyle(t),o=+n.opacity,i=parseFloat(n.height),a=parseFloat(n.paddingTop),d=parseFloat(n.paddingBottom),c=parseFloat(n.marginTop),v=parseFloat(n.marginBottom),p=parseFloat(n.borderTopWidth),L=parseFloat(n.borderBottomWidth);return{delay:e,duration:r,easing:s,css:b=>`overflow: hidden;opacity: ${Math.min(b*20,1)*o};height: ${b*i}px;padding-top: ${b*a}px;padding-bottom: ${b*d}px;margin-top: ${b*c}px;margin-bottom: ${b*v}px;border-top-width: ${b*p}px;border-bottom-width: ${b*L}px;`}}/*! Capacitor: https://capacitorjs.com/ - MIT License */const le=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(o,i)=>{r.platforms.set(o,i)},n=o=>{r.platforms.has(o)&&(r.currentPlatform=r.platforms.get(o))};return r.addPlatform=s,r.setPlatform=n,r},de=t=>t.CapacitorPlatforms=le(t),K=de(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});K.addPlatform;K.setPlatform;var E;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(E||(E={}));class F extends Error{constructor(e,r,s){super(e),this.message=e,this.code=r,this.data=s}}const ue=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},fe=t=>{var e,r,s,n,o;const i=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},d=a.Plugins=a.Plugins||{},c=t.CapacitorPlatforms,v=()=>i!==null?i.name:ue(t),p=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||v,L=()=>p()!=="web",b=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||L,z=l=>{const u=U.get(l);return!!(u!=null&&u.platforms.has(p())||M(l))},J=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||z,Q=l=>{var u;return(u=a.PluginHeaders)===null||u===void 0?void 0:u.find($=>$.name===l)},M=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.getPluginHeader)||Q,X=l=>t.console.error(l),Y=(l,u,$)=>Promise.reject(`${$} does not have an implementation of "${u}".`),U=new Map,Z=(l,u={})=>{const $=U.get(l);if($)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),$.proxy;const C=p(),x=M(l);let w;const ee=async()=>(!w&&C in u?w=typeof u[C]=="function"?w=await u[C]():w=u[C]:i!==null&&!w&&"web"in u&&(w=typeof u.web=="function"?w=await u.web():w=u.web),w),te=(f,m)=>{var h,P;if(x){const y=x==null?void 0:x.methods.find(g=>m===g.name);if(y)return y.rtype==="promise"?g=>a.nativePromise(l,m.toString(),g):(g,O)=>a.nativeCallback(l,m.toString(),g,O);if(f)return(h=f[m])===null||h===void 0?void 0:h.bind(f)}else{if(f)return(P=f[m])===null||P===void 0?void 0:P.bind(f);throw new F(`"${l}" plugin is not implemented on ${C}`,E.Unimplemented)}},A=f=>{let m;const h=(...P)=>{const y=ee().then(g=>{const O=te(g,f);if(O){const k=O(...P);return m=k==null?void 0:k.remove,k}else throw new F(`"${l}.${f}()" is not implemented on ${C}`,E.Unimplemented)});return f==="addListener"&&(y.remove=async()=>m()),y};return h.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(h,"name",{value:f,writable:!1,configurable:!1}),h},R=A("addListener"),B=A("removeListener"),re=(f,m)=>{const h=R({eventName:f},m),P=async()=>{const g=await h;B({eventName:f,callbackId:g},m)},y=new Promise(g=>h.then(()=>g({remove:P})));return y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},y},S=new Proxy({},{get(f,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?re:R;case"removeListener":return B;default:return A(m)}}});return d[l]=S,U.set(l,{name:l,proxy:S,platforms:new Set([...Object.keys(u),...x?[C]:[]])}),S},N=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||Z;return a.convertFileSrc||(a.convertFileSrc=l=>l),a.getPlatform=p,a.handleError=X,a.isNativePlatform=b,a.isPluginAvailable=J,a.pluginMethodNoop=Y,a.registerPlugin=N,a.Exception=F,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},me=t=>t.Capacitor=fe(t),_=me(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H=_.registerPlugin;_.Plugins;class V{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n);const o=async()=>this.removeListener(e,r),i=Promise.resolve({remove:o});return Object.defineProperty(i,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),i}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){const s=this.listeners[e];s&&s.forEach(n=>n(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:s=>{this.notifyListeners(r,s)}}}unimplemented(e="not implemented"){return new _.Exception(e,E.Unimplemented)}unavailable(e="not available"){return new _.Exception(e,E.Unavailable)}async removeListener(e,r){const s=this.listeners[e];if(!s)return;const n=s.indexOf(r);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const D=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),q=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class pe extends V{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[n,o]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=q(n).trim(),o=q(o).trim(),r[n]=o}),r}async setCookie(e){try{const r=D(e.key),s=D(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),i=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${s||""}${n}; path=${o}; ${i};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}H("CapacitorCookies",{web:()=>new pe});const ge=async t=>new Promise((e,r)=>{const s=new FileReader;s.onload=()=>{const n=s.result;e(n.indexOf(",")>=0?n.split(",")[1]:n)},s.onerror=n=>r(n),s.readAsDataURL(t)}),be=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(n=>n.toLocaleLowerCase()).reduce((n,o,i)=>(n[o]=t[e[i]],n),{})},he=(t,e=!0)=>t?Object.entries(t).reduce((s,n)=>{const[o,i]=n;let a,d;return Array.isArray(i)?(d="",i.forEach(c=>{a=e?encodeURIComponent(c):c,d+=`${o}=${a}&`}),d.slice(0,-1)):(a=e?encodeURIComponent(i):i,d=`${o}=${a}`),`${s}&${d}`},"").substr(1):null,we=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),n=be(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(n.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[i,a]of Object.entries(t.data||{}))o.set(i,a);r.body=o.toString()}else if(n.includes("multipart/form-data")){const o=new FormData;if(t.data instanceof FormData)t.data.forEach((a,d)=>{o.append(d,a)});else for(const a of Object.keys(t.data))o.append(a,t.data[a]);r.body=o;const i=new Headers(r.headers);i.delete("content-type"),r.headers=i}else(n.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class ve extends V{async request(e){const r=we(e,e.webFetchExtra),s=he(e.params,e.shouldEncodeUrlParams),n=s?`${e.url}?${s}`:e.url,o=await fetch(n,r),i=o.headers.get("content-type")||"";let{responseType:a="text"}=o.ok?e:{};i.includes("application/json")&&(a="json");let d,c;switch(a){case"arraybuffer":case"blob":c=await o.blob(),d=await ge(c);break;case"json":d=await o.json();break;case"document":case"text":default:d=await o.text()}const v={};return o.headers.forEach((p,L)=>{v[L]=p}),{data:d,headers:v,status:o.status,url:o.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}H("CapacitorHttp",{web:()=>new ve});const Oe=H("Preferences",{web:()=>ie(()=>import("./web.c92d76ad.js"),[],import.meta.url).then(t=>new t.PreferencesWeb)});export{W as L,Oe as P,V as W,xe as a,Ee as b,$e as f,I as s};
